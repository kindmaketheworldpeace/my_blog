webpackJsonp([11],{UDk1:function(e,t){},p0NE:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i("woOf"),a=i.n(r),s=(i("rgp1"),{components:{pagination:i("cMGX").a},data:function(){return{totalNumber:0,currentPage:1,pageSize:10,centerDialogVisible:!1,modify_centerDialogVisible:!1,tableData:[],name:"",description:"",checkers:"",approvers:"",id:"",bk_user:[]}},created:function(){this.get_service_privider(),this.get_bk_user()},methods:{get_bk_user:function(){var e=this;this.$store.dispatch("serviceprivider/get_bk_user",{}).then(function(t){e.bk_user=t.data,console.log(e.bk_user)})},create:function(){this.centerDialogVisible=!0,this.id="",this.name="",this.description="",this.checkers="",this.approvers=""},pageSizeChange:function(e){this.currentPage=e.currentPage,this.pageSize=e.pageSize,this.get_service_privider({page:this.currentPage,page_size:this.pageSize})},delete_service_privider:function(e){var t=this,i={id:e.id};this.$store.dispatch("serviceprivider/deleteServicePrivider",i).then(function(e){t.get_service_privider()})},create_service_privider:function(){var e=this,t={id:this.id,name:this.name,description:this.description,checkers:this.checkers,approvers:this.approvers};this.$store.dispatch("serviceprivider/createServicePrivider",t).then(function(t){e.get_service_privider(),e.centerDialogVisible=!1})},modify_service_privider:function(){var e=this,t={id:this.id,name:this.name,description:this.description,checkers:this.checkers,approvers:this.approvers};this.$store.dispatch("serviceprivider/modifyServicePrivider",t).then(function(t){e.get_service_privider(),e.modify_centerDialogVisible=!1})},modify:function(e){this.modify_centerDialogVisible=!0,this.id=e.id,this.name=e.name,this.description=e.description,this.checkers=e.checkers,this.approvers=e.approvers},get_service_privider_by_name:function(){this.get_service_privider()},get_service_privider:function(e){var t=this,i={page:this.currentPage,page_size:this.pageSize,name__contains:this.name};i=a()(i,e),this.$store.dispatch("serviceprivider/getServicePrivider",i).then(function(e){t.totalNumber=e.data.count,t.tableData=e.data.items,console.log(t.tableData)})}}}),n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"service_privider"},[i("div",{staticClass:"fitter"},[i("div",{staticStyle:{width:"30%",display:"inline-block"}},[i("el-input",{staticClass:"input-with-select",attrs:{size:"medium",placeholder:"请输入运维单位"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){e.get_service_privider_by_name()}},slot:"append"})],1)],1),e._v(" "),i("div",{staticStyle:{float:"right"}},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.create()}}},[e._v("新建标段")])],1)]),e._v(" "),i("el-divider"),e._v(" "),i("div",{staticClass:"table"},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"100%",border:""}},[i("el-table-column",{attrs:{fixed:"",prop:"id",label:"编号",width:"150"}}),e._v(" "),i("el-table-column",{attrs:{prop:"description",label:"名称"}}),e._v(" "),i("el-table-column",{attrs:{prop:"name",label:"运维单位",width:"120"}}),e._v(" "),i("el-table-column",{attrs:{prop:"checkers",label:"技术复核",width:"300"}}),e._v(" "),i("el-table-column",{attrs:{prop:"approvers",label:"管理复核",width:"300"}}),e._v(" "),i("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){e.modify(t.row)}}},[e._v("编辑")]),e._v(" "),i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){e.delete_service_privider(t.row)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),i("pagination",{attrs:{total:e.totalNumber},on:{"page-size-change":e.pageSizeChange}}),e._v(" "),i("el-dialog",{attrs:{title:"新建标段",visible:e.centerDialogVisible,width:"30%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[i("div",{staticStyle:{"margin-top":"15px"}},[i("div",{staticStyle:{width:"25%",display:"inline-block"}},[i("span",[e._v("名称：")])]),e._v(" "),i("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"请输入内容"},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),e._v(" "),i("div",{staticStyle:{"margin-top":"15px"}},[i("div",{staticStyle:{width:"25%",display:"inline-block"}},[i("span",[e._v("运维单位：")])]),e._v(" "),i("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"请输入内容"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),i("div",{staticStyle:{"margin-top":"15px"}},[i("div",{staticStyle:{width:"25%",display:"inline-block"}},[i("span",[e._v("技术复核：")])]),e._v(" "),i("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.checkers,callback:function(t){e.checkers=t},expression:"checkers"}},e._l(e.bk_user,function(e){return i("el-option",{key:e.bk_username,attrs:{label:e.bk_username,value:e.bk_username}})}))],1),e._v(" "),i("div",{staticStyle:{"margin-top":"15px"}},[i("div",{staticStyle:{width:"25%",display:"inline-block"}},[i("span",[e._v("管理复核：")])]),e._v(" "),i("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.approvers,callback:function(t){e.approvers=t},expression:"approvers"}},e._l(e.bk_user,function(e){return i("el-option",{key:e.bk_username,attrs:{label:e.bk_username,value:e.bk_username}})}))],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.centerDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.create_service_privider()}}},[e._v("确 定")])],1)]),e._v(" "),i("el-dialog",{attrs:{title:"编辑标段",visible:e.modify_centerDialogVisible,width:"30%",center:""},on:{"update:visible":function(t){e.modify_centerDialogVisible=t}}},[i("div",{staticStyle:{"margin-top":"15px"}},[i("div",{staticStyle:{width:"25%",display:"inline-block"}},[i("span",[e._v("名称：")])]),e._v(" "),i("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"请输入内容"},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),e._v(" "),i("div",{staticStyle:{"margin-top":"15px"}},[i("div",{staticStyle:{width:"25%",display:"inline-block"}},[i("span",[e._v("运维单位：")])]),e._v(" "),i("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"请输入内容"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),i("div",{staticStyle:{"margin-top":"15px"}},[i("div",{staticStyle:{width:"25%",display:"inline-block"}},[i("span",[e._v("技术复核：")])]),e._v(" "),i("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"请输入内容"},model:{value:e.checkers,callback:function(t){e.checkers=t},expression:"checkers"}})],1),e._v(" "),i("div",{staticStyle:{"margin-top":"15px"}},[i("div",{staticStyle:{width:"25%",display:"inline-block"}},[i("span",[e._v("管理复核：")])]),e._v(" "),i("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"请输入内容"},model:{value:e.approvers,callback:function(t){e.approvers=t},expression:"approvers"}})],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.modify_centerDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.modify_service_privider()}}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var l=i("VU/8")(s,n,!1,function(e){i("UDk1")},null,null);t.default=l.exports}});
//# sourceMappingURL=11.js.map